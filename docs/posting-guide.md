# 코드 검사 후 포스팅 가이드

코드를 점검한 뒤 테스트 코드, Docker 컨테이너, Config 파일을 주제로 포스팅을 작성할 때 참고할 수 있는 템플릿과 체크리스트입니다. 모든 글은 점검 목적, 발견한 내용, 개선 방안이 명확히 드러나도록 구성합니다.

## 1. 공통 작성 원칙

- **문제 인식부터 개선까지**: 코드 검사에서 확인한 문제 → 대응 전략 → 결과 순으로 흐름을 잡습니다.
- **근거 중심**: 파일 경로, 커밋 해시, 실행 로그 등 독자가 재현 가능한 근거를 명시합니다.
- **실행 방법 제시**: 테스트 명령, Docker 빌드/실행 명령, 설정 적용 방법을 명확히 기재합니다.
- **비밀 정보 보호**: 계정, 토큰, 비밀번호는 마스킹하거나 별도 환경 변수 사용법으로 대체합니다.
- **재사용성 고려**: 동일한 검사/게시 흐름을 반복할 수 있도록 체크리스트를 유지합니다.

## 2. 테스트 코드 포스팅 구조

1. **요약 (TL;DR)**
   - 테스트에서 확인한 핵심 이슈와 개선 여부를 한 문단으로 정리합니다.
2. **테스트 범위와 시나리오**
   - 어떤 레이어(`controller`, `service`, `repository`)를 다뤘는지, 주요 시나리오와 입력 데이터 설명.
   - 관련 파일 예시: `src/test/java/...` 경로를 포함합니다.
3. **검증 명령어와 실행 로그**
   - 예: ``./gradlew test`` 실행 로그 일부와 성공/실패 여부.
   - 실패 시 스택 트레이스 요약, 원인 분석, 수정 코드 링크.
4. **커버리지 및 품질 지표** (가능하면)
   - JaCoCo 리포트 위치(`build/reports/tests`, `build/reports/jacoco` 등)와 주요 지표를 캡처/요약.
5. **회고와 다음 계획**
   - 남은 테스트 빚, 자동화 계획, 리팩터링 TODO 등.

> **체크리스트**
> - [ ] 테스트 목적과 범위가 명확한가?
> - [ ] 재현 가능한 실행 명령과 환경을 제공했는가?
> - [ ] 실패/성공 로그가 과도하지 않으면서 핵심을 담고 있는가?
> - [ ] 개선 결과(코드/설정/문서 링크)를 첨부했는가?

## 3. Docker 컨테이너 포스팅 구조

1. **컨테이너 개요**
   - 어떤 서비스(예: `Spring Boot API`)를 Docker로 배포하는지 요약.
   - 사용 파일: 프로젝트 루트 `Dockerfile`, `docker-compose.yml` 등.
2. **빌드 및 실행 과정**
   - 빌드: ``docker build -t <image-name> .``
   - 실행: ``docker run -p 8080:8080 --env-file .env <image-name>`` 혹은 `docker-compose up`.
   - 설정한 포트, 볼륨, 환경 변수를 표로 정리.
3. **문제 진단 내용**
   - 코드 검사에서 찾은 Docker 관련 이슈(예: 레이어 캐싱 비효율, `ENTRYPOINT` 오류, 볼륨 권한 문제) 설명.
   - 수정 전/후 Dockerfile 스니펫을 비교.
4. **테스트 및 검증**
   - 컨테이너 상태 확인 명령: ``docker ps``, ``docker logs <container>``.
   - 애플리케이션 헬스 체크 결과와 로컬/스테이징 배포 여부.
5. **운영 팁 & 베스트 프랙티스**
   - 멀티 스테이지 빌드, 이미지 최소화, CI 파이프라인 연동 등 추가 팁.

> **체크리스트**
> - [ ] Dockerfile 변경 사항과 영향 범위를 설명했는가?
> - [ ] 이미지/컨테이너 태그 관리 전략을 언급했는가?
> - [ ] 실행 명령과 환경 변수 요구사항을 정리했는가?
> - [ ] 문제 해결 전/후 비교 자료가 있는가?

## 4. Config 클래스(WebConfig, SecurityConfig) 포스팅 구조

1. **구성 클래스 소개**
   - 다루는 클래스와 경로: `src/main/java/jsh/board/config/WebConfig.java`, `src/main/java/jsh/board/config/SecurityConfig.java` 등.
   - 각 클래스가 담당하는 역할을 한 문단으로 요약(CORS 설정, 인터셉터/필터 등록, 인증/인가 정책 등).
2. **검사 결과 정리**
   - 코드 검사에서 발견한 문제(예: 잘못된 URL 패턴, 누락된 Bean 등록, 보안 정책 미적용)를 식별.
   - 변경 전/후 메서드 또는 설정 블록을 코드 블록으로 비교.
3. **적용 및 배포 방법**
   - 수정된 Config가 적용되는 환경(Spring Profile, 활성화 조건)을 설명.
   - Docker/CI 파이프라인에서 추가로 필요한 환경 변수, 의존 Bean 설정 방법을 제시.
4. **테스트 및 검증**
   - ``./gradlew test`` 또는 통합 테스트로 Config 동작을 검증하는 방법, `@SpringBootTest`/`MockMvc` 활용 사례.
   - 로컬 실행(`./gradlew bootRun`)이나 실제 엔드포인트 호출로 확인한 결과를 정리.
5. **보안 및 유지보수 가이드**
   - 인증/인가 설정 변경 시 체크해야 할 영향 범위, 외부 시스템과의 연동 포인트.
   - 주기적인 정책 점검, 설정 값 상수화/문서화 원칙을 언급.

> **체크리스트**
> - [ ] Config 클래스의 책임과 변경 범위를 명확히 설명했는가?
> - [ ] 코드 스니펫이 최신 구현과 일치하는가?
> - [ ] 보안/접근 제어 관점에서 영향 분석을 포함했는가?
> - [ ] 재현 가능한 검증 방법을 제공했는가?

## 5. 마무리 섹션 템플릿

- **결론 요약**: 테스트, Docker, Config 각각에서의 핵심 성과를 3문장 이내로 요약.
- **추가 과제**: 남은 TODO, 모니터링 계획, 협업 요청 사항.
- **참고 자료**: 관련 공식 문서, 내부 위키, 커밋 링크.

## 6. 게시 전 마지막 점검

- [ ] 문서 내 명령어와 파일 경로가 최신 코드 기준으로 맞는지 확인
- [ ] 이미지/로그 스니펫에 민감 정보가 없는지 검토
- [ ] 포맷(헤더, 코드 블록, 목록)이 통일되어 있는지 확인
- [ ] 독자가 따라 했을 때 동일한 결과를 얻을 수 있는지 시뮬레이션

필요 시 본 가이드를 복사해 개인 템플릿(예: Notion, Confluence)에 적용하고 프로젝트 특성에 맞게 업데이트하세요.
